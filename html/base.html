<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../static/style.css">
    <title>{{title}}</title>
</head>
<body>
    <div id="container" class="container-fluid">
        <nav class="navbar navbar-expand-sm">
            <div class="container-fluid">
                <ul class="navbar-nav">
                  <li><a>Witaj</a></li>
                </ul>
                <ul class="navbar-nav navbar-right">
                    <li><i id="mode" class="bi bi-sun"></i></li>
                    {% if 'user_id' in session %}
                    <li><div id="nav-profile">
                        <a href="{{ url_for('user_profile',user_id=session['user_id']) }}">
                            <img id="user-avatar" class="margin-left-20" src="../static/images/avatars/avatar.png"
                                 alt="Profil {{session['user_id']}}"></a>
                    </div></li>
                    <li><div id="nav-dropdown">
                        <button class="dropbtn"><i class="bi bi-caret-down-fill"></i></button>
                        <div id="dropdown" class="dropdown-content">
                            <a href="#">Profil</a>
                            <a href="#">Ustawienia</a>
                            <a href="#" id="logout">Wyloguj się</a>
                        </div>
                    </div></li>
                    {% else %}
                    <li class="margin-left-20"><button type="button" class="btn button" data-bs-toggle="modal"
                         data-bs-target="#loginModal">Zaloguj się</button></li>
                    <li class="margin-left-12"><button type="button" class="btn button" data-bs-toggle="modal"
                        data-bs-target="#registrationModal">Zarejestruj się</button></li>
                    {% endif %}
                </ul>
            </div>
        </nav>
        <div id="content">
            <i id="show-list" class="bi bi-list"></i>
            <div id="sidebar" class="sidebar">
              <div class="sidebar-element" id="close-button"><a id="cls-btn" class="closebtn">&times;</a></div>
              <div class="sidebar-element" id="ask"><a>Zapytaj</a></div>
              <div class="sidebar-element"><a><i class="bi bi-people-fill"></i> Grupy</a></div>
              <div class="sidebar-element"><a><i class="bi bi-heart-fill"></i> Znajomi</a></div>
              <div class="sidebar-element"><a><i class="bi bi-bell-fill"></i> Powiadomienia</a></div>
              <div class="sidebar-element"><a><i class="bi bi-envelope-fill"></i> Wiadomości</a></div>
              <div class="sidebar-element"><a><i class="bi bi-gear-fill"></i> Ustawienia</a></div>
              <div class="sidebar-element"><a><i class="bi bi-person-fill"></i> Profil</a></div>
            </div>

            <main>
                {% block content %}
                {% endblock %}
                <footer>
                  <p>Kamil Wodowski 2023</p>
                </footer>
            </main>
        </div>
    </div>

    <div class="modal" id="loginModal">
        <div class="modal-dialog">
          <div class="modal-content">
      
            <!-- Modal Header -->
            <div class="modal-header">
              <h4 class="modal-title">Logowanie</h4>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
      
            <!-- Modal body -->
            <div class="modal-body">
                <div id="login-message"></div>
                <form class="centered-form">
                  <div class="input-container field-holder">
                  <input type="email" id="login-email" name="login-email" required>
                  <label for="login-email">E-mail</label></div>
                  <div class="centered-form field-holder">
                  <input type="password" id="pass" name="pass" required>
                  <label for="pass">Hasło</label></div>
                </form>
              </div>
      
            <!-- Modal footer -->
            <div class="modal-footer">
              <button id="login-submit" type="button" >Zaloguj się!</button>
            </div>
      
          </div>
        </div>
      </div>

    <div class="modal" id="registrationModal">
        <div class="modal-dialog">
          <div class="modal-content">
      
            <!-- Modal Header -->
            <div class="modal-header">
              <h4 class="modal-title">Rejestracja</h4>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
      
            <!-- Modal body -->
            <div class="modal-body">
              <div id="register-message"></div>
              <form class="centered-form">
                <label for="username"></label>
                <input type="text" id="username" name="username" placeholder="Nazwa użytkownika"
                 title="Nazwa użytkownika nie musi być niepowtarzalna, będziesz mógł ją zmienić w dowolnym momencie" required>
                <label for="user_id"></label>
                <input type="text" id="user_id" name="user_id" placeholder="Identyfikator użytkownika"
                 title="Unikalna nazwa która będzie przypisana na stałe do twojego konta, jednak nie będzie wyświetlana" required>
                <label for="email"></label>
                <input type="text" id="email" name="email" placeholder="E-mail" required>
                <label for="pass1"></label>
                <input type="text" id="pass1" name="pass1" placeholder="Hasło" 
                title="Hasło musi zawierać minimum 8 znaków, małe i duże litery, cyfrę i inny znak" required>
                <label for="pass2"></label>
                <input type="text" id="pass2" name="pass2" placeholder="Powtórz hasło" title="Musi być takie samo jak poprzednie!" required>
                <div id="chose-image">
                  <label for="img">Wybierz zdjęcie profilowe: </label>
                  <input type="file" id="img" name="img" accept="image/*" required>
                </div>
              </form>
            </div>
      
            <!-- Modal footer -->
            <div class="modal-footer">
              <button id="registration-submit" type="button">Zarejestruj się!</button>
            </div>
      
          </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../static/script.js" type="module"></script>
</body>
</html>